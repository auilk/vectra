(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{92:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155),l=r(1603),o=r(4579);function s(){let{elements:e,selected:t}=(0,o.$)((0,l.k)(e=>({elements:e.elements,selected:e.selected})));return(0,n.jsx)(n.Fragment,{children:Object.keys(t).length>0&&(0,n.jsxs)("div",{className:"absolute top-0 left-0 m-4 text-white text-sm",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-bold",children:"Selected: "}),(0,n.jsx)("span",{className:"text-yellow-300",children:t.id})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-bold",children:"position: "}),(0,n.jsxs)("span",{className:"text-yellow-300",children:["(x: ",e[t.id].props.x.toFixed(3),", y: ",e[t.id].props.y.toFixed(3),")"]})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-bold",children:"dimensions: "}),(0,n.jsxs)("span",{className:"text-yellow-300",children:["(width: ",e[t.id].props.width.toFixed(3),", height: ",e[t.id].props.height.toFixed(3),")"]})]})]})})}},1603:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(2115);let l=e=>Symbol.iterator in e,o=e=>"entries"in e,s=(e,t)=>{let r=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(r.size!==n.size)return!1;for(let[e,t]of r)if(!Object.is(t,n.get(e)))return!1;return!0},i=(e,t)=>{let r=e[Symbol.iterator](),n=t[Symbol.iterator](),l=r.next(),o=n.next();for(;!l.done&&!o.done;){if(!Object.is(l.value,o.value))return!1;l=r.next(),o=n.next()}return!!l.done&&!!o.done};function d(e){let t=n.useRef(void 0);return r=>{var n,d;let a=e(r);return(n=t.current,Object.is(n,d=a)||"object"==typeof n&&null!==n&&"object"==typeof d&&null!==d&&Object.getPrototypeOf(n)===Object.getPrototypeOf(d)&&(l(n)&&l(d)?o(n)&&o(d)?s(n,d):i(n,d):s({entries:()=>Object.entries(n)},{entries:()=>Object.entries(d)})))?t.current:t.current=a}}},2530:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(5155),l=r(2115);function o(e){let{direction:t="y",setX:r,setY:o}=e;if("x"!==t&&"y"!==t)throw Error('Invalid direction prop: "'.concat(t,'". Expected "x" or "y".'));let s=(0,l.useRef)(null),i=(0,l.useRef)(0),[d,a]=(0,l.useState)(!1);return console.log("render"),(0,l.useEffect)(()=>{if(!d)return;let e=e=>{d&&("x"===t?r(e.clientX-i.current):o(e.clientY-i.current))},n=()=>{a(!1)};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",n),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)}},[d]),(0,n.jsx)("div",{ref:s,className:"absolute select-none cursor-move",style:{width:"x"===t?"60px":"8px",height:"x"===t?"8px":"60px",borderTopLeftRadius:"x"===t?"4px":"0px",borderBottomRightRadius:"x"===t?"0px":"4px",borderBottomLeftRadius:"4px",left:"50%",top:"x"===t?"50%":"",bottom:"x"===t?"":"50%",transform:"x"===t?"translate(10%, -50%)":"translate(-50%, -10%)",backgroundColor:"x"===t?"oklch(57.7% 0.245 27.325)":"oklch(62.7% 0.194 149.214)"},onMouseDown:e=>{let r=s.current.parentElement.getBoundingClientRect(),n=s.current.parentElement.parentElement.getBoundingClientRect();"x"===t?i.current=e.clientX-r.left+n.left:i.current=e.clientY-r.top+n.top,a(!0)},children:(0,n.jsx)("div",{className:"border-12 border-transparent absolute -translate-y-1/3 pointer-events-none",style:{top:"x"===t?"0":"-25%",left:"x"===t?"88%":"-100%",borderLeftColor:"x"===t?"oklch(57.7% 0.245 27.325)":"transparent",borderBottomColor:"x"===t?"transparent":"oklch(62.7% 0.194 149.214)"}})})}var s=r(4579),i=r(1603);function d(){var e,t,r,d,a,c,u,p;let x=(0,l.useRef)(null),{elements:f,selected:b,SetElement:m}=(0,s.$)((0,i.k)(e=>({elements:e.elements,selected:e.selected,SetElement:e.SetElement})));return(0,n.jsxs)("div",{ref:x,className:"w-8 h-8 shadow-[0px_0px_1px_2px] rounded-full shadow-amber-300 absolute -top-100 left-0 -translate-1/4 before:content-[''] before:w-2 before:h-2 before:rounded-full before:bg-amber-400 before:left-1/2 before:top-1/2 before:-translate-1/2 before:absolute",style:{top:"".concat((null==(t=f[b.id])||null==(e=t.props)?void 0:e.y)+(null==(d=f[b.id])||null==(r=d.props)?void 0:r.height)/2,"px"),left:"".concat((null==(c=f[b.id])||null==(a=c.props)?void 0:a.x)+(null==(p=f[b.id])||null==(u=p.props)?void 0:u.width)/2,"px")},children:[(0,n.jsx)(o,{direction:"x",setX:e=>{var t,r;m(b.id,{...f[b.id].props,x:e-(null==(r=f[b.id])||null==(t=r.props)?void 0:t.width)/2+8})}}),(0,n.jsx)(o,{direction:"y",setY:e=>{var t,r;m(b.id,{...f[b.id].props,y:e-(null==(r=f[b.id])||null==(t=r.props)?void 0:t.height)/2+8})}})]})}},4579:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var n=r(2115);let l=e=>{let t,r=new Set,n=(e,n)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=n?n:"object"!=typeof l||null===l)?l:Object.assign({},t,l),r.forEach(r=>r(t,e))}},l=()=>t,o={setState:n,getState:l,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,l,o);return o},o=e=>e?l(e):l,s=e=>e,i=e=>{let t=o(e),r=e=>(function(e,t=s){let r=n.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},d=(e=>e?i(e):i)(e=>({elements:{},selected:{},AddElement:(t,r)=>e(e=>({elements:{...e.elements,[t]:{props:r}}})),SetElement:(t,r)=>e(e=>({elements:{...e.elements,[t]:{props:{...e.elements[t].props,...r}}}})),DeleteElement:t=>e(e=>{let r={...e.elements};return delete r[t],{elements:r}}),SetSelected:t=>e(e=>({selected:{id:t}}))}))},4850:(e,t,r)=>{Promise.resolve().then(r.bind(r,5474)),Promise.resolve().then(r.bind(r,2530)),Promise.resolve().then(r.bind(r,92)),Promise.resolve().then(r.bind(r,5034)),Promise.resolve().then(r.bind(r,9365))},5034:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155),l=r(4579),o=r(1603);function s(){let{elements:e,selected:t,SetSelected:r}=(0,l.$)((0,o.k)(e=>({elements:e.elements,selected:e.selected,SetSelected:e.SetSelected})));return(0,n.jsx)(n.Fragment,{children:Object.entries(e).map(e=>{let[l,o]=e;return(0,n.jsx)("div",{className:"absolute cursor-pointer border-2 border-transparent hover:border-amber-300 transition-[border-color]",style:{width:o.props.width,height:o.props.height,top:o.props.y+8,left:o.props.x+8,borderColor:t.id===l?"#ff2d00":""},onClick:()=>r(l)},l)})})}},5474:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155),l=r(2115),o=r(4579);function s(){let e=(0,l.useRef)(0),t=(0,o.$)(e=>e.AddElement);return(0,n.jsx)("button",{className:"w-1/2 h-fit px-10 py-2 text-white font-bold rounded-lg border-2 border-[#292929] bg-[#161616] cursor-pointer hover:bg-[#202020] transition-[background-color]",onClick:()=>t("rect".concat(++e.current),{x:Math.max(0,Math.random()*window.innerWidth-28),y:Math.max(0,Math.random()*window.innerHeight-90),width:100,height:100}),children:"ADD"})}},9365:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(5155),l=r(4579);function o(){let e=(0,l.$)(e=>e.elements);return(0,n.jsx)("svg",{className:"w-full h-full",children:Object.entries(e).map(e=>{let[t,r]=e;return(0,n.jsx)("rect",{...r.props,fill:"black"},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4850)),_N_E=e.O()}]);